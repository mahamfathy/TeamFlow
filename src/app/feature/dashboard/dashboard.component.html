<div class="flex flex-col h-screen">
  <div
    class="bg-purple-800 text-white p-4 md:hidden flex justify-between items-center"
  >
    <span class="text-xl font-bold">TeamFlow Dashboard</span>
    <button
      aria-label="menu-bar"
      (click)="toggleSidebar()"
      class="text-white focus:outline-none"
    >
      â˜°
    </button>
  </div>

  <div class="flex flex-1">
    <!-- Sidebar -->
    <div
      [@sidebarAnimation]="
        screenIsDesktop ? 'open' : isSidebarOpen ? 'open' : 'closed'
      "
      (@sidebarAnimation.done)="onSidebarAnimationDone($event)"
      class="bg-purple-700 text-white z-50 md:relative md:block absolute top-0 left-0 h-full transition-all duration-300 ease-in-out w-[220px] overflow-hidden"
      [class.hidden]="!isSidebarOpen && !screenIsDesktop"
    >
      @if ( isSidebarOpen || screenIsDesktop) {
      <ng-container>
        <app-side-nav-bar (linkClicked)="closeSidebar()" />
      </ng-container>
      }
    </div>

    <!-- Overlay for mobile sidebar -->
    @if (isSidebarOpen ) {
    <div
      (click)="closeSidebar()"
      class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"
    ></div>
    }

    <!-- Main content -->
    <div class="flex-1 overflow-auto p-4 bg-gray-100 relative">
      <main
        [@routeAnimations]="prepareRoute(outlet)"
        class="min-h-full relative z-10"
      >
        <router-outlet #outlet="outlet"></router-outlet>
      </main>
    </div>
  </div>
</div>
